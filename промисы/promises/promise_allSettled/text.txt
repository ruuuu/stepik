Promise.allSettled() — метод, который принимает массив (или другой итерируемый объект) промисов и 
возвращает новый промис. Этот новый промис выполнится только тогда, когда все переданные промисы завершатся (неважно, успешно или с ошибкой), 
и вернет массив объектов с результатами каждого промиса.

Ключевые особенности:
1) Не прерывается при ошибке — в отличие от Promise.all() (который немедленно отклоняется при первой ошибке)

2) Ждет завершения всех промисов — даже если некоторые отклонены

3) Возвращает массив объектов с информацией о статусе и результате каждого промиса




Каждый элемент массива результатов имеет одну из двух форм:

Для успешного выполнения:
{
  status: "fulfilled",
  value: результат_промиса
}


Для отклоненного промиса:
{
  status: "rejected",
  reason: причина_ошибки
}


Когда использовать Promise.allSettled():
Когда важны все результаты, независимо от ошибок

При загрузке данных из нескольких источников — чтобы получить максимально возможные данные

В аналитических системах — когда нужно собрать всю статистику, включая ошибки

При параллельной обработке — когда задачи независимы и нужно знать результат каждой

-------------------------------------------------------------------------------------------------

fetch() возвращает:

Сразу: Promise в состоянии pending

При успешном запросе или HTTP-ошибке: Promise fulfilled с объектом Response

При сетевой ошибке: Promise rejected с объектом Error

Главное правило: Всегда проверяйте response.ok или response.status, так как HTTP-ошибки (404, 500) не попадают в .catch() по умолчанию!